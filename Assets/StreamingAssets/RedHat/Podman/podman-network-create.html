<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>podman-network-create 1</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h2 id="name">NAME</h2>
<p>podman-network-create - Create a Podman network</p>
<h2 id="synopsis">SYNOPSIS</h2>
<p><strong>podman network create</strong> [<em>options</em>]
[<em>name</em>]</p>
<h2 id="description">DESCRIPTION</h2>
<p>Create a network configuration for use with Podman. By default,
Podman creates a bridge connection. A <em>Macvlan</em> connection can be
created with the <em>-d macvlan</em> option. A parent device for macvlan
or ipvlan can be designated with the <em>-o
parent=<code>&lt;device&gt;</code></em> or
<em>--network-interface=<code>&lt;device&gt;</code></em> option.</p>
<p>If no options are provided, Podman assigns a free subnet and name for
the network.</p>
<p>Upon completion of creating the network, Podman displays the name of
the newly added network.</p>
<h2 id="options">OPTIONS</h2>
<h4 id="disable-dns"><strong>--disable-dns</strong></h4>
<p>Disables the DNS plugin for this network which if enabled, can
perform container to container name resolution. It is only supported
with the <code>bridge</code> driver, for other drivers it is always
disabled.</p>
<h4 id="dnsip"><strong>--dns</strong>=<em>ip</em></h4>
<p>Set network-scoped DNS resolver/nameserver for containers in this
network. If not set, the host servers from <code>/etc/resolv.conf</code>
is used. It can be overwritten on the container level with the
<code>podman run/create --dns</code> option. This option can be
specified multiple times to set more than one IP.</p>
<h4 id="driver--ddriver"><strong>--driver</strong>,
<strong>-d</strong>=<em>driver</em></h4>
<p>Driver to manage the network. Currently <code>bridge</code>,
<code>macvlan</code> and <code>ipvlan</code> are supported. Defaults to
<code>bridge</code>. As rootless the <code>macvlan</code> and
<code>ipvlan</code> driver have no access to the host network interfaces
because rootless networking requires a separate network namespace.</p>
<p>The netavark backend allows the use of so called <em>netavark
plugins</em>, see the <a
href="https://github.com/containers/netavark/blob/main/plugin-API.md">plugin-API.md</a>
documentation in netavark. The binary must be placed in a specified
directory so podman can discover it, this list is set in
<code>netavark_plugin_dirs</code> in <strong><a
href="https://github.com/containers/common/blob/main/docs/containers.conf.5.md">containers.conf(5)</a></strong>
under the <code>[network]</code> section.</p>
<p>The name of the plugin can then be used as driver to create a network
for your plugin. The list of all supported drivers and plugins can be
seen with <code>podman info --format {{.Plugins.Network}}</code>.</p>
<p>Note that the <code>macvlan</code> and <code>ipvlan</code> drivers do
not support port forwarding. Support for port forwarding with a plugin
depends on the implementation of the plugin.</p>
<h4 id="gatewayip"><strong>--gateway</strong>=<em>ip</em></h4>
<p>Define a gateway for the subnet. To provide a gateway address, a
<em>subnet</em> option is required. Can be specified multiple times. The
argument order of the <strong>--subnet</strong>,
<strong>--gateway</strong> and <strong>--ip-range</strong> options must
match.</p>
<h4 id="ignore"><strong>--ignore</strong></h4>
<p>Ignore the create request if a network with the same name already
exists instead of failing. Note, trying to create a network with an
existing name and different parameters does not change the configuration
of the existing one.</p>
<h4
id="interface-namename"><strong>--interface-name</strong>=<em>name</em></h4>
<p>This option maps the <em>network_interface</em> option in the network
config, see <strong>podman network inspect</strong>. Depending on the
driver, this can have different effects; for <code>bridge</code>, it
uses the bridge interface name. For <code>macvlan</code> and
<code>ipvlan</code>, it is the parent device on the host. It is the same
as <code>--opt parent=...</code>.</p>
<h4 id="internal"><strong>--internal</strong></h4>
<p>Restrict external access of this network when using a
<code>bridge</code> network. Note when using the CNI backend DNS will be
automatically disabled, see <strong>--disable-dns</strong>.</p>
<p>When using the <code>macvlan</code> or <code>ipvlan</code> driver
with this option no default route will be added to the container.
Because it bypasses the host network stack no additional restrictions
can be set by podman and if a privileged container is run it can set a
default route themselves. If this is a concern then the container
connections should be blocked on your actual network gateway.</p>
<p>Using the <code>bridge</code> driver with this option has the
following effects: - Global IP forwarding sysctls will not be changed in
the host network namespace. - IP forwarding is disabled on the bridge
interface instead of setting up a firewall. - No default route will be
added to the container.</p>
<p>In all cases, aardvark-dns will only resolve container names with
this option enabled. Other queries will be answered with
<code>NXDOMAIN</code>.</p>
<h4 id="ip-rangerange"><strong>--ip-range</strong>=<em>range</em></h4>
<p>Allocate container IP from a range. The range must be a either a
complete subnet in CIDR notation or be in the
<code>&lt;startIP&gt;-&lt;endIP&gt;</code> syntax which allows for a
more flexible range compared to the CIDR subnet. The <em>ip-range</em>
option must be used with a <em>subnet</em> option. Can be specified
multiple times. The argument order of the <strong>--subnet</strong>,
<strong>--gateway</strong> and <strong>--ip-range</strong> options must
match.</p>
<h4
id="ipam-driverdriver"><strong>--ipam-driver</strong>=<em>driver</em></h4>
<p>Set the ipam driver (IP Address Management Driver) for the network.
When unset podman chooses an ipam driver automatically based on the
network driver.</p>
<p>Valid values are:</p>
<ul>
<li><code>dhcp</code>: IP addresses are assigned from a dhcp server on
the network. When using the netavark backend the
<code>netavark-dhcp-proxy.socket</code> must be enabled in order to
start the dhcp-proxy when a container is started, for CNI use the
<code>cni-dhcp.socket</code> unit instead.</li>
<li><code>host-local</code>: IP addresses are assigned locally.</li>
<li><code>none</code>: No ip addresses are assigned to the
interfaces.</li>
</ul>
<p>View the driver in the <strong>podman network inspect</strong> output
under the <code>ipam_options</code> field.</p>
<h4 id="ipv6"><strong>--ipv6</strong></h4>
<p>Enable IPv6 (Dual Stack) networking. If no subnets are given, it
allocates an ipv4 and an ipv6 subnet.</p>
<h4 id="labellabel"><strong>--label</strong>=<em>label</em></h4>
<p>Set metadata for a network (e.g., --label mykey=value).</p>
<h4 id="opt--ooption"><strong>--opt</strong>,
<strong>-o</strong>=<em>option</em></h4>
<p>Set driver specific options.</p>
<p>All drivers accept the <code>mtu</code>, <code>metric</code>,
<code>no_default_route</code> and options.</p>
<ul>
<li><code>mtu</code>: Sets the Maximum Transmission Unit (MTU) and takes
an integer value.</li>
<li><code>metric</code> Sets the Route Metric for the default route
created in every container joined to this network. Accepts a positive
integer value. Can only be used with the Netavark network backend.</li>
<li><code>no_default_route</code>: If set to 1, Podman will not
automatically add a default route to subnets. Routes can still be added
manually by creating a custom route using <code>--route</code>.</li>
</ul>
<p>Additionally the <code>bridge</code> driver supports the following
options:</p>
<ul>
<li><code>vlan</code>: This option assign VLAN tag and enables
vlan_filtering. Defaults to none.</li>
<li><code>isolate</code>: This option isolates networks by blocking
traffic between those that have this option enabled.</li>
<li><code>com.docker.network.bridge.name</code>: This option assigns the
given name to the created Linux Bridge</li>
<li><code>com.docker.network.driver.mtu</code>: Sets the Maximum
Transmission Unit (MTU) and takes an integer value.</li>
<li><code>vrf</code>: This option assigns a VRF to the bridge interface.
It accepts the name of the VRF and defaults to none. Can only be used
with the Netavark network backend.</li>
<li><code>mode</code>: This option sets the specified bridge mode on the
interface. Defaults to <code>managed</code>. Supported values:
<ul>
<li><code>managed</code>: Podman creates and deletes the bridge and
changes sysctls of it. It adds firewall rules to masquerade outgoing
traffic, as well as setup port forwarding for incoming traffic using
DNAT.</li>
<li><code>unmanaged</code>: Podman uses an existing bridge. It must
exist by the time you want to start a container which uses the network.
There will be no NAT or port forwarding, even if such options were
passed while creating the container.</li>
</ul></li>
</ul>
<p>The <code>macvlan</code> and <code>ipvlan</code> driver support the
following options:</p>
<ul>
<li><code>parent</code>: The host device which is used for the macvlan
interface. Defaults to the default route interface.</li>
<li><code>mode</code>: This option sets the specified ip/macvlan mode on
the interface.
<ul>
<li>Supported values for <code>macvlan</code> are <code>bridge</code>,
<code>private</code>, <code>vepa</code>, <code>passthru</code>. Defaults
to <code>bridge</code>.</li>
<li>Supported values for <code>ipvlan</code> are <code>l2</code>,
<code>l3</code>, <code>l3s</code>. Defaults to <code>l2</code>.</li>
</ul></li>
</ul>
<p>Additionally the <code>macvlan</code> driver supports the
<code>bclim</code> option:</p>
<ul>
<li><code>bclim</code>: Set the threshold for broadcast queueing. Must
be a 32 bit integer. Setting this value to <code>-1</code> disables
broadcast queueing altogether.</li>
</ul>
<h4 id="routeroute"><strong>--route</strong>=<em>route</em></h4>
<p>A static route in the format
<code>&lt;destination in CIDR notation&gt;,&lt;gateway&gt;,&lt;route metric (optional)&gt;</code>.
This route will be added to every container in this network. Only
available with the netavark backend. It can be specified multiple times
if more than one static route is desired.</p>
<h4 id="subnetsubnet"><strong>--subnet</strong>=<em>subnet</em></h4>
<p>The subnet in CIDR notation. Can be specified multiple times to
allocate more than one subnet for this network. The argument order of
the <strong>--subnet</strong>, <strong>--gateway</strong> and
<strong>--ip-range</strong> options must match. This is useful to set a
static ipv4 and ipv6 subnet.</p>
<h2 id="examples">EXAMPLES</h2>
<p>Create a network with no options.</p>
<pre><code>$ podman network create
podman2</code></pre>
<p>Create a network named <em>newnet</em> that uses
<em>192.5.0.0/16</em> for its subnet.</p>
<pre><code>$ podman network create --subnet 192.5.0.0/16 newnet
newnet</code></pre>
<p>Create an IPv6 network named <em>newnetv6</em> with a subnet of
<em>2001:db8::/64</em>.</p>
<pre><code>$ podman network create --subnet 2001:db8::/64 --ipv6 newnetv6
newnetv6</code></pre>
<p>Create a network named <em>newnet</em> that uses
<em>192.168.33.0/24</em> and defines a gateway as
<em>192.168.33.3</em>.</p>
<pre><code>$ podman network create --subnet 192.168.33.0/24 --gateway 192.168.33.3 newnet
newnet</code></pre>
<p>Create a network that uses a <em>192.168.55.0/24</em> subnet and has
an IP address range of <em>192.168.55.129 - 192.168.55.254</em>.</p>
<pre><code>$ podman network create --subnet 192.168.55.0/24 --ip-range 192.168.55.128/25
podman5</code></pre>
<p>Create a network with a static ipv4 and ipv6 subnet and set a
gateway.</p>
<pre><code>$ podman network create --subnet 192.168.55.0/24 --gateway 192.168.55.3 --subnet fd52:2a5a:747e:3acd::/64 --gateway fd52:2a5a:747e:3acd::10
podman4</code></pre>
<p>Create a network with a static subnet and a static route.</p>
<pre><code>$ podman network create --subnet 192.168.33.0/24 --route 10.1.0.0/24,192.168.33.10 newnet</code></pre>
<p>Create a network with a static subnet and a static route without a
default route.</p>
<pre><code>$ podman network create --subnet 192.168.33.0/24 --route 10.1.0.0/24,192.168.33.10 --opt no_default_route=1 newnet</code></pre>
<p>Create a Macvlan based network using the host interface eth0. Macvlan
networks can only be used as root.</p>
<pre><code>$ sudo podman network create -d macvlan -o parent=eth0 --subnet 192.5.0.0/16 newnet
newnet</code></pre>
<h2 id="see-also">SEE ALSO</h2>
<p><strong><a href="podman.html">podman(1)</a></strong>, <strong><a
href="podman-network.html">podman-network(1)</a></strong>, <strong><a
href="podman-network-inspect.html">podman-network-inspect(1)</a></strong>,
<strong><a
href="podman-network-ls.html">podman-network-ls(1)</a></strong>,
<strong><a
href="https://github.com/containers/common/blob/main/docs/containers.conf.5.md">containers.conf(5)</a></strong></p>
<h2 id="history">HISTORY</h2>
<p>August 2021, Updated with the new network format by Paul Holzinger <a
href="mailto:pholzing@redhat.com"
class="email">pholzing@redhat.com</a></p>
<p>August 2019, Originally compiled by Brent Baude <a
href="mailto:bbaude@redhat.com" class="email">bbaude@redhat.com</a></p>
</body>
</html>
